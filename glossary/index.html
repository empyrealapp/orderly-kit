
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Tooling for the Orderly Network">
      
      
        <meta name="author" content="EmpyrealSDK">
      
      
      
        <link rel="prev" href="../strategy/">
      
      
        <link rel="next" href="../sdk/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Glossary - Orderly-Kit</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#key-concepts-in-perpetual-trading" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
              
  Follow
  <strong>@empyrealdev</strong> on
  <a rel="me" href="https://x.com/empyrealdev">
    <span class="twemoji mastodon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </span>
    <strong>X</strong>
  </a>
  for updates

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Orderly-Kit" class="md-header__button md-logo" aria-label="Orderly-Kit" data-md-component="logo">
      
  <img src="../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Orderly-Kit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Glossary
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
    
  
  Orderly-Kit

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../sdk/" class="md-tabs__link">
          
  
    
  
  Types

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Orderly-Kit" class="md-nav__button md-logo" aria-label="Orderly-Kit" data-md-component="logo">
      
  <img src="../logo.png" alt="logo">

    </a>
    Orderly-Kit
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Orderly-Kit
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Orderly-Kit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../perpetuals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perpetuals 101
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Strategies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#order-book" class="md-nav__link">
    <span class="md-ellipsis">
      Order Book
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liquidity" class="md-nav__link">
    <span class="md-ellipsis">
      Liquidity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spread" class="md-nav__link">
    <span class="md-ellipsis">
      Spread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-interest" class="md-nav__link">
    <span class="md-ellipsis">
      Open Interest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#position-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Position Mode
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../assets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intervals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intervals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../market/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Market Info
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#order-book" class="md-nav__link">
    <span class="md-ellipsis">
      Order Book
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liquidity" class="md-nav__link">
    <span class="md-ellipsis">
      Liquidity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spread" class="md-nav__link">
    <span class="md-ellipsis">
      Spread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-interest" class="md-nav__link">
    <span class="md-ellipsis">
      Open Interest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#position-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Position Mode
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="key-concepts-in-perpetual-trading">Key Concepts in Perpetual Trading</h1>
<h2 id="order-book">Order Book</h2>
<p>The orderbook lists all buy and sell orders for a particular asset, organized by price and quantity. It shows the supply and demand in the market. </p>
<p>Orderly offers 60 different assets and has one specific orderbook for each listed market. </p>
<h2 id="liquidity">Liquidity</h2>
<p>Liquidity refers to the availability of assets for trading on an exchange or market. High liquidity means that assets can be traded quickly and with minimal price impact.</p>
<h2 id="spread">Spread</h2>
<p>The spread is the difference between the highest price a buyer is willing to pay (bid) and the lowest price a seller will accept (ask). A smaller spread indicates a lower price impact due to higher market efficiency.</p>
<h2 id="open-interest">Open Interest</h2>
<p>Open interest is the total number of outstanding contracts for a particular derivative contract. It is a measure of market depth and indicates the market activity level.</p>
<h2 id="position-mode">Position Mode</h2>
<p>Orderly currently allows only one-sided mode: traders cannot hold both long and short positions for a single Perpetual Futures contract.</p>
<h1 id="prices">Prices</h1>
<h2 id="index-price">Index Price</h2>
<p>It represents the "fair" or "spot" price of the underlying asset, typically derived from the asset's prices on several major spot exchanges. It is not the actual price of the perpetual contract itself but a way to prevent price manipulation and ensure that the contract price closely follows the real market value of the asset.
The index price serves as the reference price for funding rates. It ensures that traders are trading close to the true market value of the asset, preventing divergence from spot prices.</p>
<h1 id="calculation">Calculation</h1>
<p>Orderly calculates it as a volume-weighted average of the underlying asset prices listed on major spot exchanges. To mitigate the risk of market manipulation, price deviation, and exchange connectivity issues. Orderly applies various protective measures to ensure a fair and accurate index price:</p>
<ul>
<li>If for 1 single source, the price deviates by more than 5% from the median price of all sources, Orderly caps/floors the value at +/- 5%. Once the exchange-computed price falls below the 5% range, its original value will be taken.</li>
<li>If multiple sources show a deviation of more than 5% from the median, Orderly will use the median instead of the volume-weighted average</li>
<li>If there is a connectivity issue with a specific exchange that is not sending any price for a duration of 1min, its weight will be temporarily set to 0 in the calculation</li>
</ul>
<p>In the Index Price calculation, the weights are computed every 5 minutes based on the 4-hour trading volume over the spot trading pairs of the selected centralized exchanges.</p>
<div class="language-text highlight"><pre><span></span><code>Weight (CEX_i) = Volume (CEX_i) / Total Volume (CEXes)
where:
    Volume (CEX_i) refers to the 4-hour trading vol of the CEX i
    Total Volume (CEXes) refers to the sum of the 4-hour trading volume accross all relevant CEXes for the specific pair
</code></pre></div>
<h2 id="mark-price">Mark Price</h2>
<p>The Mark Price represents the best estimate of a perpetual futures contract’s value and is less volatile than the index or last price. It serves as the reference price for a perpetual contract and is used to prevent unnecessary liquidations caused by market manipulation.</p>
<p>It is mainly used to calculate unrealized profit and loss (PnL) and determine liquidation, aiming to protect traders from being liquidated unfairly due to sudden market movements or manipulation.</p>
<h3 id="calculation_1">Calculation</h3>
<div class="language-text highlight"><pre><span></span><code>To calculate it Orderly Network computes the Median Price of the three following components :
Median Price = Median(P1, P2, Futures Price)
where:
    P1 = Index Price * (1 + Last Funding Rate * Time until next Funding / dt)
    P2 = Index Price + 15 Minute Moving Average[Basis]
    Futures Price = Median(Bid0, Ask0, Last_Price)

Last Funding Rate is expressed on a 8h basis
Basis = Median(Bid0, Ask0) - Index Price, calculated as a snapshot every minute
dt = Funding Period = 8 hours
</code></pre></div>
<p>Then Orderly applies a cap to the Mark Price relative to the Index Price defined by Factor (see table below) and Cap/Floor funding (cf Funding Rate section)
Mark Price = Clamp(Median Price, Index Price * (1 + Factor * Cap Funding), Index Price * (1 + Factor * Floor_funding))</p>
<div class="language-text highlight"><pre><span></span><code>cap_funding and floor_funding depend on the perpetual market (cf Funding Rate section)
</code></pre></div>
<h2 id="summary-of-key-differences-between-mark-and-index-prices">Summary of Key Differences between Mark and Index Prices:</h2>
<p>Aspect | Mark Price | Index Price |
Definition | Smoothed price to avoid unfair liquidations | The fair market price of the asset, based on spot prices |
Used For | Liquidations, calculating unrealized PnL | Calculating funding rates and as a reference for spot price |
Volatility | Smoother to avoid unfair liquidations | Follows real-time market prices, more volatile |</p>
<p>In practice, the mark price is a protective measure, ensuring more stability for traders, while the index price reflects the broader market reality.</p>
<h2 id="last-price">Last Price</h2>
<p>The Last Price refers to the latest transaction price at which a perpetual contract was traded in the orderbook. Said differently, the Last Price simply corresponds to the last trade in the trading history. It is used to calculate the realized PnL (see Margin, leverage &amp; PnL section) and is less reliable for preventing liquidation than the Mark Price.</p>
<h2 id="notional-value">Notional Value</h2>
<p>Notional Value refers to the total value of the asset that a trader holds in a particular trade. On Orderly, the position size is determined by the number of perpetual contracts that the trader holds (Position Qty) and the asset’s Mark Price.  </p>
<div class="language-text highlight"><pre><span></span><code>Notional Value = Position Qty * Mark Price
Position Qty = Margin * Leverage / Mark Price
</code></pre></div>
<h2 id="margin">Margin</h2>
<p>Margin is the asset traders must deposit as collateral to open and maintain a position in a perpetual contract. It serves as security to cover potential losses. The amount of required collateral depends on the notional value and each specific market. Sufficient collateral is crucial to avoid liquidation.</p>
<h2 id="single-collateral">Single Collateral</h2>
<p>Orderly offers USDC-based Perpetual Futures contracts, therefore the collateral is in USDC and all perpetual contracts are quoted and settled in USDC.
Cross-Margin</p>
<p>Finally, Orderly currently offers only cross-margin mode. As a trader, you can deposit USDC collateral and it will be shared across all open positions to calculate the margin ratio.</p>
<p>This allows profits from one trade to offset potential losses in another, reducing the likelihood of liquidation for individual positions. By sharing the margin across positions, traders can manage market volatility more effectively, but it also increases risk. If the overall account balance drops too low, all positions are at risk of liquidation, making it important for traders to monitor their overall portfolio carefully.</p>
<h2 id="leverage">Leverage</h2>
<p>Since Orderly is built around leveraged trading, your collateral (margin) is only a portion of the notional value. The rest is borrowed using leverage, allowing traders to control large positions with a small amount of capital.</p>
<p>For example, with 10x leverage, a trader can open a 1 BTC position with just 6,400 USDC as collateral, even if the current BTC price is 64,000 USDC. While leverage increases potential profits, it also magnifies potential losses.</p>
<p>Orderly will enable the following leverages: 1x, 2x, 3x, 4x, 5x, 10x, and 20x.</p>
<h2 id="margin-ratio">Margin Ratio</h2>
<p>The margin ratio of an account is equal to the total collateral value divided by the total notional opened by the account (the total collateral value being the USDC balance plus any unrealized profit/loss).</p>
<p>The margin ratio defines the risk level of your account: a higher margin ratio leads to a lower risk level (with a default margin ratio set to 1000% meaning you have no open positions)</p>
<p>For an account having positions on i perpetual_markets:</p>
<div class="language-text highlight"><pre><span></span><code>Margin_ratio = total_collateral_value / sum(abs(notional_value_i))
</code></pre></div>
<h2 id="initial-margin-ratio">Initial Margin Ratio</h2>
<p>To open a new futures position or execute withdrawals, the Margin Ratio of the Account has to be higher than the Initial Margin ratio. Otherwise, the account will not be able to open any new futures position or execute withdrawals.</p>
<p>Each Perpetual Futures market has a defined Initial Margin Ratio (Base IMR) and maximum leverage equal to 1/Base IMR.
    IMR i = Max(1 / Max Account Leverage, Base IMR i, IMR Factor i * Abs(Notional Value i)^(4/5))</p>
<p>IMR Factors are specific coefficients used to calculate the required margin for large positions. The larger the position, the lower the actual leverage that can be used. Factors can be found here.</p>
<h2 id="maintenance-margin-ratio">Maintenance Margin Ratio</h2>
<p>An account will be liquidated if the Margin Ratio of the account is lower than the Maintenance Margin Ratio required. For more information go to Liquidations. 
    MMR i = Max(Base MMR i, Base MMR i / Base IMR i * IMR Factor i * Abs(Notional Value i)^(4/5))</p>
<h2 id="pnl">PnL</h2>
<p>The unrealized PnL of an open position refers to the profits or losses of that position based on the Mark Price:</p>
<div class="language-text highlight"><pre><span></span><code>Unrealized PnL(Perp Market i) = Position Qty * (Mark Price - Position Average Entry Price)
</code></pre></div>
<p>The realized PnL refers to the profits or losses after closing a position:</p>
<div class="language-text highlight"><pre><span></span><code>Realized PnL(Perp Market i) = Position Qty * (Average Price - Position Average Entry Price)
</code></pre></div>
<h2 id="pnl-settling">PnL Settling</h2>
<p>On Orderly, settling PnL allows traders to move their profit or loss from all perpetual markets to their balance. PnL Settlement has no impact on the Account Margin Ratio or open positions.</p>
<p>It should be noted that settled/unsettled PnL and realized/unrealized PnL are different. PnL is realized when closing or reducing a position. The resulting realized PnL moves into the balance only when the trader triggers a PnL settlement.
Settled PnL into balance can be used for spot trading or withdrawn, but doing so will impact your margin ratio.</p>
<h3 id="the-process-of-pnl-settlement-is-as-follows">The process of PnL Settlement is as follows:</h3>
<p>When account X makes a call to settle PnL, Orderly will choose the top accounts with the largest unsettled opposing PnL. Starting from the largest account, each account’s unsettled PnL will be offset with account X, until account X has no more remaining PnL to settle.
As an Example: Account X has +20,000 USDC unsettled PnL with a balance of 100 USDC. The top 2 facing Accounts A and B have -15,000 USDC and -5,000 USDC unsettled PnL respectively:</p>
<p>First, settling Account X vs Account A will increase Account X’s balance by 15,000 USDC and decrease Account A’s balance by 15,000 USDC. Account X has a remaining unsettled PnL of +5,000 USDC and a balance of 15,100 USDC.
Then, settling Account X vs Account B will increase Account X’s balance by 5,000 USDC and decrease Account B’s balance by 5,000 USDC. Account X has a remaining unsettled PnL of 0 and a balance of 20,100 USDC. The settlement process ends since Account X has no remaining unsettled PnL.
Settling PnL will NOT change the user’s balance as the displayed user balance already includes unsettled PnL in the calculation. Withdrawable balance will change after settling PnL as it doesn’t include unsettled profits in the calculation.
All settling PnL does is move profits into the user’s account so the user can withdraw.</p>
<h2 id="balance-formulas">Balance Formulas</h2>
<h2 id="account-margin-ratio">Account Margin Ratio</h2>
<p>Current margin ratio = total_collateral_value / sum(abs(notional_value_i))</p>
<h2 id="total-collateral">Total Collateral</h2>
<p>Total collateral of the user (doesn’t account for any pending orders, includes unsettled PnL) = total_balance + upnl + pending_short_USDC</p>
<h2 id="free-collateral">Free Collateral</h2>
<p>Available collateral/balance to trade (accounts for any pending orders, includes unsettled PnL) = collateral + upnl - total_initial_margin_with_orders - pending_short_USDC</p>
<h2 id="portfolio-value">Portfolio Value</h2>
<p>Total potfolio value including position notionals = USDC Balance + (non USDC assets) * mid_price + unsettled pnl</p>
<h2 id="withdrawable-balance">Withdrawable Balance</h2>
<p>Collateral available to withdraw (excludes unsettled PnL) = total_balance - total_initial_margin_with_orders - positive_upnl</p>
<p>Examples
Ex. 1 user’s total_balance = 100 USDC, unsettled PnL = -40 USDC, =&gt; total_collateral is then 60 USDC. User has a position which takes up 20 USDC maintenance margin, then free_collateral or withdrawable_balance = 60 - 20 = 40 USDC
Ex. 2 user’s total_balance = 100 USDC, unsettled PnL = 40 USDC, =&gt; total_collateral is then 100 USDC. User has a position which takes up 20 USDC maintenance margin, then free_collateral = 100 - 20 = 80 USDC and withdrawable_balance = 80 - 40 = 40 USDC</p>
<h2 id="funding-rate">Funding Rate</h2>
<p>The funding rate is a periodic cash flow exchanged between long and short position holders, ensuring the perpetual futures contract's price closely follows the underlying asset's price. On Orderly, it is expressed on an hourly basis and computed once every minute.
Premium Calculation</p>
<p>The funding rate is determined by the Premium, which measures the deviation between the contract price and the index price. To avoid funding manipulation, Orderly uses the Impact bid price and ask prices, rather than the highest bid and lowest ask only.
Impact Bid Price represents the average fill price to execute the Impact Margin Notional on the Bid Price.
Impact Ask Price represents the average fill price to execute the Impact Margin Notional on the Ask Price
Impact Margin Notional represents the notional available to open a position at maximum leverage based on the initial margin ratio of the perpetual market, given a specific amount of USDC as collateral.</p>
<p>The funding rate is then capped and floored with values that depend on the perpetual market.
accrued funding (dt) = Mark Price * Funding Rate (hourly) * dt
Premium (dt) = [Max(0, Impact Bid Price - Index Price) - Max(0, Index Price - Impact Ask Price)] / Index Price</p>
<p>dt : funding period    </p>
<h2 id="funding-period">Funding Period</h2>
<p>The Funding Rate is expressed on an hourly basis and will be computed once every minute (funding period is dt=60s). Every minute, a position on 1 perpetual contract will accrue:
accrued funding (dt) = Mark Price * Funding Rate (hourly) * dt
NB: dt is here expressed in hours (60/3600)</p>
<p>Once the Premium for a specific funding period has been computed, the funding rate as a function of the premium is a piecewise linear function with three main regions.
funding_rate = clamp [funding_function (Premium(dt)), cap_funding(perp_mkt), floor_funding(perp_mkt)]</p>
<ul>
<li>Low premiums : | x | &lt; p1 ; slope1</li>
<li>Medium premiums : p1 &lt; | x | &lt; p2 ; slope2</li>
<li>Large premium : p2 &lt; | x | &lt; p3 ; slope3</li>
</ul>
<p>Premium | p_i | slope_i |
Low | x | &lt; 0.5% | 1/8
Medium | 0.5% &lt; | x | &lt; 1.5% | 1/4
Large | 1.5% &lt; | x | 1/2</p>
<p>p_i and slope_i values are subject to changes.</p>
<h2 id="funding-settlement">Funding Settlement</h2>
<p>The accrued funding of a position of an account is settled when there is a PnL settlement being called on that account (see PnL settlement)</p>
<h2 id="liquidations">Liquidations</h2>
<p>Liquidation occurs when a trader’s position is forcibly transferred by Orderly to liquidators due to insufficient collateral to cover potential losses. This typically happens when the market moves against the trader’s position, causing the collateral to fall below the required maintenance margin. Liquidations are essential for preventing further losses and protecting the exchange’s liquidity.</p>
<p>An account is subject to liquidation if its Account Margin Ratio falls below its Maintenance Margin Ratio. Orderly uses the Mark Price to represent a contract’s estimated value. As it derives from multiple reputable spot exchanges (see Index Price) and the funding rate, it is less volatile than the Last Price and discourages bad actors from manipulating the market price to trigger liquidations.
When an account is under liquidation, its current open orders are automatically canceled and its USDC balance is frozen.</p>
<h2 id="decentralized-liquidations">Decentralized Liquidations</h2>
<p>Unlike Centralized Exchanges or a few other dApps such as dYdX, at Orderly, liquidations are decentralized.
Most of the time, CEXes directly close positions on the orderbook, which often triggers cascading liquidations, hurting traders further and encouraging bad actors to manipulate market prices.</p>
<p>Orderly adopts a decentralized liquidation model where positions are transferred to liquidators at a discount instead of being market sold in the orderbook. It is fully decentralized as anyone with an Orderly account can act as a liquidator, as long as the account has enough margin to take over the liquidated positions.</p>
<h2 id="liquidation-trigger">Liquidation Trigger</h2>
<p>A liquidation is triggered if the Account Margin Ratio (AMR) is below the Maintenance Margin Ratio (MMR) required for the account.</p>
<h2 id="liquidation-tiers">Liquidation Tiers</h2>
<p>All trading pairs are not equal in terms of risk. In Orderly, there are two groups of symbols:
Low Tier Risk = BTC &amp; ETH, Liquidators can only claim a ratio of all symbols. Claiming a single symbol is not allowed
High Tier Risk = Others,  Liquidators can claim 1 single symbol</p>
<h2 id="liquidation-amount">Liquidation Amount</h2>
<p>The amount of positions that need to be liquidated is calculated for both low tier and each symbol of high tier perp markets. Whenever possible, each amount is computed so that the Account Margin Ratio equals the Initial Margin Ratio.
If the account has multiple positions in the low tier risk, the positions will be partially liquidated in a volume-weighted fashion.</p>
<h2 id="liquidation-fee">Liquidation Fee</h2>
<p>When an account is liquidated, a User Liquidation Fee is incurred. In Orderly, each market has its liquidation fee according to the table below.
| Perp Market | Liquidation Fee |
| BTC | 0.80% |
| ETH | 0.80% |
| Altcoins (10x) | 1.50% |
| Altcoins (20x) | 2.40% |</p>
<p>The overall User Liquidation Fee is calculated as follows:
Low Tier Liquidation (multiple symbols):
    User Liquidation Fee = Sum[Liquidation Fee(Symbol i) * Abs(Notional i)]</p>
<p>High Tier Liquidation (1 symbol):
    User Liquidation Fee = Liquidation Fee(Symbol i) * Abs(Notional i)</p>
<h1 id="fees">Fees</h1>
<h2 id="cost-position">Cost Position</h2>
<p>The cost position is the average price at which a trader opens their position, including any associated costs like trading and funding fees. It is used to calculate unrealized PnL.</p>
<h2 id="taker-fee">Taker Fee</h2>
<p>A taker fee is charged to traders who execute orders that immediately remove liquidity from the order book, typically through market orders.</p>
<h2 id="maker-fee">Maker Fee</h2>
<p>A maker fee is charged to traders who place orders that add liquidity to the order book, typically through limit orders.</p>
<h2 id="funding-fee">Funding Fee</h2>
<p>References the funding rate, a periodic payment made between long and short traders to keep perpetual positions close to the market price of the underlying asset.</p>
<h2 id="liquidation-fee_1">Liquidation Fee</h2>
<p>The incurred fee when an account is liquidated. For more details check Liquidations. </p>











<!-- Giscus -->
<!-- https://squidfunk.github.io/mkdocs-material/setup/adding-a-comment-system/#giscus-integration -->
<div id="feedback" style="display: none;">
    <h2 id="__comments">Feedback</h2>
    <script src="https://giscus.app/client.js"
        data-repo="mkdocstrings/python"
        data-repo-id="R_kgDOGTScxA"
        data-category="Documentation"
        data-category-id="DIC_kwDOGTScxM4ChLJD"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="0"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
    </script>

    <!-- Synchronize Giscus theme with palette -->
    <script>
        var giscus = document.querySelector("script[src*=giscus]")

        // Set palette on initial load
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
            var theme = palette.color.scheme === "slate"
                ? "transparent_dark"
                : "light"

            // Instruct Giscus to set theme
            giscus.setAttribute("data-theme", theme) 
        }

        // Register event handlers after documented loaded
        document.addEventListener("DOMContentLoaded", function() {
            var ref = document.querySelector("[data-md-component=palette]")
            ref.addEventListener("change", function() {
                var palette = __md_get("__palette")
                if (palette && typeof palette.color === "object") {
                    var theme = palette.color.scheme === "slate"
                        ? "transparent_dark"
                        : "light"

                    // Instruct Giscus to change theme
                    var frame = document.querySelector(".giscus-frame")
                    frame.contentWindow.postMessage(
                        { giscus: { setConfig: { theme } } },
                        "https://giscus.app"
                    )
                }
            })
        })
    </script>
</div>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../strategy/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Strategies">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Strategies
              </div>
            </div>
          </a>
        
        
          
          <a href="../sdk/" class="md-footer__link md-footer__link--next" aria-label="Next: SDK">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                SDK
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>